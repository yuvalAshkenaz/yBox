/*! yBox - v9.2 - 09/11/2025
* By Yuval Ashkenazi
* https://github.com/yuvalAshkenaz/yBox */

jQuery("body").on("click",".yBox",function(e){e.preventDefault(),e.stopPropagation();var o=jQuery(this);if(jQuery(".yBoxFocus").length){if("undefined"!=typeof beforeYboxClose&&!1==beforeYboxClose(jQuery(".yBoxFocus")))return!1;jQuery(".yBoxFocus").not(o).removeClass("yBoxFocus")}o.addClass("yBoxFocus"),yBox({self:o})});var yUrl=new URL(document.currentScript.src),yBox_lang=yUrl.searchParams.get("lang"),strings={close:"Close",next:"Next",prev:"Prev",press_tab_again_to_return_to_the_first_button:"Press Tab again to return to the first button"};("he"==yBox_lang||"he-IL"==yBox_lang||"he_IL"==yBox_lang)&&(yBox_lang="he",strings={close:"סגירה",next:"הבא",prev:"הקודם",press_tab_again_to_return_to_the_first_button:"לחצו שוב על טאב כדי לחזור לכפתור הראשון"}),("ar"==yBox_lang||"ar-ar"==yBox_lang)&&(yBox_lang="ar",strings={close:"لإغلاق",next:"التالي",prev:"السابق",press_tab_again_to_return_to_the_first_button:"اضغط على Tab مرة أخرى للرجوع إلى الزر الأول"});var url=new URL(window.location.href),msg="",yBoxID=url.searchParams.get("ybox-id"),yBoxURL="",yBoxHeadline="",yBoxClassPrm="";function yBox(e){if(!jQuery(".yBoxOverlay:not(.active)").length){e.self?o=e.self:e.id?o=jQuery(e.id):e.url&&(o=jQuery("body")),"undefined"!=typeof beforeYboxOpen&&o&&beforeYboxOpen(o),e.hasSelf=!0,void 0===e.yBoxClass&&(e.yBoxClass=""),void 0!==e.self&&e.self||(e.hasSelf=!1),e.hasSelf&&(e.yBoxClass=e.self.data("ybox-class")||"",e.url=e.self.attr("href"));var o,a='<div class="yBoxOverlay no-contrast'+("he"==yBox_lang||"ar"==yBox_lang?" yBoxRTL":"")+" "+e.yBoxClass+'" tabindex="-1"><div class="yBoxFrame" role="dialog"><button type="button" class="closeYbox" title="'+strings.close+'" aria-label="'+strings.close+'"></button><div class="insertYboxAjaxHere" tabindex="-1"></div></div></div>';jQuery(".yBoxFrame").length?jQuery(".yBoxFrame.yBoxImgWrap").length?(remove_yBox_placeholder(),jQuery(".insertYboxAjaxHere").html(""),insert_yBox_html(e),"undefined"!=typeof afterYboxOpen&&afterYboxOpen(o)):jQuery(".insertYboxAjaxHere").animate({opacity:0},function(){var a=jQuery(this);setTimeout(function(){remove_yBox_placeholder(),a.html(""),insert_yBox_html(e),jQuery(".insertYboxAjaxHere").animate({opacity:1},function(){"undefined"!=typeof afterYboxOpen&&afterYboxOpen(o)})},200)}):(jQuery("body").append(a),insert_yBox_html(e),setTimeout(function(){jQuery(".yBoxOverlay").addClass("active"),"undefined"!=typeof afterYboxOpen&&o&&afterYboxOpen(o)},200))}}function ybox_iframe(e){var o="",a="";if(e.hasSelf?(e.self.data("ybox-title")&&(o+=' title="'+e.self.data("ybox-title")+'"'),e.self.data("ybox-headline-class")&&(o+=' class="'+e.self.data("ybox-headline-class")+'"'),e.self.data("ybox-headline")&&(a='<h2 id="ybox-iframe-headline">'+e.self.data("ybox-headline")+"</h2>",o+=' aria-labelledby="ybox-iframe-headline"')):e.headline&&(a='<h2 id="ybox-iframe-headline">'+e.headline+"</h2>",o+=' aria-labelledby="ybox-iframe-headline"'),jQuery(".yBoxFrame").addClass("yBoxIframeWrap"),e.url.toLowerCase().indexOf("youtube")>-1||e.url.toLowerCase().indexOf("youtu.be")>-1){var t=e.url.replace(/^[^v]+v.(.{11}).*/,"$1").replace("https://youtu.be/","").replace(/.*youtube.com\/embed\//,"");e.url="https://www.youtube.com/embed/"+t+"?wmode=transparent&rel=0&autoplay=1&hl="+yBox_lang}else if(e.url.toLowerCase().indexOf("vimeo")>-1){var s=e.url.match(/video\/(\d+)/)[1];e.url="https://player.vimeo.com/video/"+s+"?autoplay=1&background=1"}var r=a+'<iframe src="'+e.url+'" frameborder="0" wmode="Opaque" allow="autoplay" allowfullscreen id="yBoxIframe" class="yBoxIframe" '+o+'></iframe><button type="button" class="btn-for-focus-only" aria-label="'+strings.press_tab_again_to_return_to_the_first_button+'"></button>';return e.hasSelf&&(r=yBox_Group(e.self,r)),r}function insert_yBox_html(e){if(jQuery(".yBoxFrame").removeClass("yBoxIframeWrap yBoxImgWrap"),e.hasSelf){if(e.self.hasClass("yBox_iframe"))ybox_iframe(e);else if(e.self.hasClass("yBox_video")){jQuery(".yBoxFrame").addClass("yBoxIframeWrap");var o='<video class="yBoxVideo" autoplay controls preload plays-inline playsinline><source src="'+e.url+'" type="video/mp4" /></video>';o=yBox_Group(e.self,o),jQuery(".yBoxFrame .insertYboxAjaxHere").html(o)}else if(e.self.hasClass("yBox_ajax"))jQuery.get(e.url,function(e){jQuery(".insertYboxAjaxHere").addClass("isAjax").html(e)});else if(void 0!==e.url&&-1==e.url.indexOf("#")){jQuery(".yBoxFrame").addClass("yBoxImgWrap"),jQuery(".insertYboxAjaxHere").append('<div style="text-align:center;position:absolute;right:0;left:0;top:0;bottom:0;"><div class="yBoxLoader"></div></div>');var a=new Image;a.src=e.url,a.className="yBoxImg",a.onload=function(){var o=e.self.data("ybox-alt")||"",a=e.self.data("ybox-title")?'title="'+e.self.data("ybox-title")+'"':"",t="",s="";e.self.data("ybox-headline")&&(t='<h2 id="ybox-img-title" class="ybox-img-title">'+e.self.data("ybox-headline")+"</h2>",s='aria-labelledby="ybox-img-title"');var r='<div class="yBoxImgZoom"><img src="'+e.url+'" alt="'+o+'" '+a+' id="yBoxImg" class="yBoxImg" '+s+" />"+t+"</div>";r=yBox_Group(e.self,r)}}else void 0===e.url&&void 0!==e.code?(jQuery(".insertYboxAjaxHere").html(e.code),void 0===e.self||e.self.hasClass("yBoxFocus")||(jQuery(".yBoxFocus").not(e.self).removeClass("yBoxFocus"),e.self.addClass("yBoxFocus"))):(jQuery(e.url).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(".insertYboxAjaxHere.isAjax").length&&jQuery(".insertYboxAjaxHere.isAjax").removeClass("isAjax"),jQuery(e.url).appendTo(".insertYboxAjaxHere"));window.screen.width>991&&setTimeout(function(){e.self.data("focus")?jQuery(".insertYboxAjaxHere ."+e.self.data("focus")).focus():setYboxFocus()},500)}else e.url?(e.code=ybox_iframe(e),jQuery(".insertYboxAjaxHere").html(e.code)):void 0===e.code&&void 0!==e.id?(jQuery(e.id).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(e.id).appendTo(".insertYboxAjaxHere")):jQuery(".insertYboxAjaxHere").html(e.code),setTimeout(function(){setYboxFocus({focus:e.focus})},500)}function setYboxFocus(e){void 0!==e&&void 0!==e.focus?jQuery(e.focus).focus():jQuery(".closeYbox").focus()}function yBox_Group(e,o){var a=e.data("ybox-group");return a&&jQuery('.yBox[data-ybox-group="'+a+'"]').length>1&&(o='<button type="button" class="yBoxNext" title="'+strings.next+'"></button>'+o+'<button type="button" class="yBoxPrev" title="'+strings.prev+'"></button>'),jQuery(".insertYboxAjaxHere").html(o),o}function yBoxNext(e){var o,a=e.data("ybox-group"),t=!1;jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').each(function(s){t||jQuery(this).attr("data-ybox-id")!=e.attr("data-ybox-id")||(t=!0,o=jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').eq(s+1).length?jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').eq(s+1):jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').eq(0))}),o&&(jQuery(".yBox").data("focus",""),o.data("focus","yBoxNext"),o.trigger("click"))}function yBoxPrev(e){var o,a=e.data("ybox-group");jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').each(function(t){if(jQuery(this).attr("data-ybox-id")==e.attr("data-ybox-id")){if(jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').eq(t-1).length)o=jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').eq(t-1);else{var s=jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').length;o=jQuery('.yBox[data-ybox-group="'+a+'"]:not(.swiper-slide-duplicate)').eq(s-1)}}}),o&&(jQuery(".yBox").data("focus",""),o.data("focus","yBoxPrev"),o.trigger("click"))}function remove_yBox_placeholder(){if(jQuery(".yBoxFramePlaceHolder").length){var e=jQuery(".insertYboxAjaxHere > *").eq(0).attr("id");e?jQuery("#"+e).insertBefore(".yBoxFramePlaceHolder"):jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()}}(msg||yBoxID||yBoxURL)&&(jQuery.isEmptyObject(yBoxID)||-1!=yBoxID.indexOf("http:")||-1!=yBoxID.indexOf("https:")||(yBoxID="#"+yBoxID),yBox({code:!yBoxID&&msg,yBoxClass:yBoxClassPrm||"ybox-content-frame",id:!!yBoxID&&yBoxID,url:!!yBoxURL&&yBoxURL,headline:!!yBoxHeadline&&yBoxHeadline}),setTimeout(function(){var e=new URLSearchParams(window.location.search);e.delete("msg"),e.delete("ybox-id"),e.delete("ybox-url"),e.delete("ybox-class"),e.delete("ybox-headline"),yBoxURL.indexOf("youtube")>-1&&e.delete("list"),e.toString()&&(e="?"+e.toString());var o=window.location.pathname+e;window.history.pushState("","",o)},500)),jQuery("body").on("click",".yBoxNext",function(e){yBoxNext(jQuery(".yBoxFocus"))}),jQuery("body").on("click",".yBoxPrev",function(e){yBoxPrev(jQuery(".yBoxFocus"))}),setTimeout(function(){jQuery(".yBox[data-ybox-group]:not(.swiper-slide-duplicate)").each(function(e){var o=jQuery(this).data("ybox-group");jQuery(this).attr("data-ybox-id",o+"-"+e)}),jQuery(".yBox[data-ybox-group].swiper-slide-duplicate").each(function(e){var o=jQuery(this).data("ybox-group");jQuery(this).attr("data-ybox-id",o+"-"+e)})},500),jQuery("body").on("click",".yBoxOverlay",function(e){for(var o="",a=0;a<e.target.classList.length;a++)(e.target.classList[a].indexOf("yBoxOverlay")>-1||e.target.classList[a].indexOf("active")>-1)&&(o+=e.target.classList[a]+" ");if(o.indexOf("yBoxOverlay active")>-1||"string"==typeof e.target.className&&e.target.className.indexOf("closeYbox")>-1){var t=jQuery(".insertYboxAjaxHere > *").eq(0);if(jQuery(".yBoxFocus").length&&(t=jQuery(".yBoxFocus")),"undefined"!=typeof beforeYboxClose&&!1==beforeYboxClose(t))return!1;jQuery(".yBoxOverlay").removeClass("active"),jQuery(".yBoxFocus").focus().removeClass("yBoxFocus"),setTimeout(function(){"undefined"!=typeof afterYboxClose&&afterYboxClose(t),remove_yBox_placeholder(),jQuery(".yBoxOverlay").remove()},600)}}),jQuery(document).on("keyup",function(e){if(jQuery(".yBoxImg").length){var o=jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]');39===e.keyCode&&("he"==yBox_lang?yBoxPrev(o):yBoxNext(o)),37===e.keyCode&&("he"==yBox_lang?yBoxNext(o):yBoxPrev(o))}27===e.keyCode&&jQuery(".closeYbox").trigger("click"),9==e.keyCode&&jQuery("body").addClass("ybox-focus")}),jQuery(document).on("keydown",function(e){var o=jQuery(".yBoxFrame").find('button:visible, textarea:not(:disabled), input:not(:disabled):not([type="hidden"]), a:visible, select, iframe, video').filter(":visible"),a=o.first(),t=o.last();9==e.keyCode&&(e.shiftKey&&jQuery(document.activeElement).is(a)?(e.preventDefault(),t.focus()):!e.shiftKey&&jQuery(document.activeElement).is(t)&&(e.preventDefault(),a.focus()))});