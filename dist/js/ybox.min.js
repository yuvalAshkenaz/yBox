/*! yBox - v4.7 - 13/03/2023
* By Yuval Ashkenazi
* https://github.com/yuvalAshkenaz/yBox */ jQuery("body").on("click",".yBox",function(e){e.preventDefault(),e.stopPropagation();var o=jQuery(this);jQuery(".yBox.yBoxFocus").removeClass("yBoxFocus"),o.addClass("yBoxFocus"),yBox({self:o})});var yUrl=new URL(document.currentScript.src),yLang=yUrl.searchParams.get("lang"),strings={close:"Close",next:"Next",prev:"Prev"};("he"==yLang||"he-IL"==yLang)&&(yLang="he",strings={close:"סגירה",next:"הבא",prev:"הקודם"});var url=new URL(window.location.href),msg=url.searchParams.get("msg"),yBoxPrm=url.searchParams.get("ybox-url"),yBoxClassPrm=url.searchParams.get("ybox-class");function yBox(e){if(!jQuery(".yBoxOverlay:not(.active)").length){e.self?o=e.self:e.url&&(o=jQuery(e.url)),"undefined"!=typeof beforeYboxOpen&&beforeYboxOpen(o);var o,t=!0;void 0===e.yBoxClass&&(e.yBoxClass=""),void 0!==e.self&&e.self||(t=!1),t&&(e.yBoxClass=e.self.data("ybox-class")||"",e.url=e.self.attr("href"));var a='<div class="yBoxOverlay no-contrast'+("he"==yLang?" yBoxRTL":"")+'">						<div class="yBoxFrame '+e.yBoxClass+'">							<button type="button" class="closeYboxOnFocus"></button>							<div class="insertYboxAjaxHere" tabindex="0"></div>							<button type="button" class="closeYbox" title="'+strings.close+'"></button>							<button type="button" class="closeYboxOnFocus"></button>						</div>					</div>';jQuery(".yBoxFrame").length?jQuery(".yBoxFrame.yBoxImgWrap").length?(jQuery(".yBoxFramePlaceHolder").length&&(jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()),jQuery(".insertYboxAjaxHere").html(""),insertPopHtml(e.self,t,e.url,e.code)):jQuery(".insertYboxAjaxHere").animate({opacity:0},function(){var o=jQuery(this);setTimeout(function(){jQuery(".yBoxFramePlaceHolder").length&&(jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()),o.html(""),insertPopHtml(e.self,t,e.url,e.code),jQuery(".insertYboxAjaxHere").animate({opacity:1})},200)}):(jQuery("body").append(a),insertPopHtml(e.self,t,e.url,e.code),setTimeout(function(){jQuery(".yBoxOverlay").addClass("active")},200)),setTimeout(function(){"undefined"!=typeof afterYboxOpen&&afterYboxOpen(o)},200)}}function insertPopHtml(e,o,t,a){if(jQuery(".yBoxFrame").removeClass("yBoxIframeWrap yBoxImgWrap"),o){if(e.hasClass("yBox_iframe")){jQuery(".yBoxFrame").addClass("yBoxIframeWrap"),(t.toLowerCase().indexOf("youtube")>-1||t.toLowerCase().indexOf("youtu.be")>-1)&&(t="https://www.youtube.com/embed/"+t.replace(/^[^v]+v.(.{11}).*/,"$1").replace("https://youtu.be/","").replace(/.*youtube.com\/embed\//,"")+"?wmode=transparent&rel=0&autoplay=1&hl="+yLang),t.toLowerCase().indexOf("vimeo")>-1&&(t="https://player.vimeo.com/video/"+t.replace(/[^0-9]/g,"")+"?autoplay=1");var a='<iframe src="'+t+'" frameborder="0" wmode="Opaque" allow="autoplay" allowfullscreen class="yBoxIframe"></iframe>';a=yBox_Group(e,a)}else if(e.hasClass("yBox_video")){jQuery(".yBoxFrame").addClass("yBoxIframeWrap");var a='<video class="yBoxVideo" autoplay controls preload plays-inline playsinline><source src="'+t+'" type="video/mp4" /></video>';a=yBox_Group(e,a),jQuery(".yBoxFrame .insertYboxAjaxHere").html(a)}else if(e.hasClass("yBox_ajax"))jQuery.get(t,function(e){jQuery(".insertYboxAjaxHere").addClass("isAjax").html(e)});else if(-1==t.indexOf("#")){jQuery(".yBoxFrame").addClass("yBoxImgWrap"),jQuery(".insertYboxAjaxHere").append('<div style="text-align:center;position:absolute;right:0;left:0;top:0;bottom:0;"><div class="yBoxLoader"></div></div>');var r=new Image;r.src=t,r.className="yBoxImg",r.onload=function(){var o='<div class="yBoxImgZoom"><img src="'+t+'" alt="'+(e.data("ybox-alt")||"")+'" class="yBoxImg" /></div>';o=yBox_Group(e,o),window.screen.width<=767&&zoom({zoom:"yBoxImgZoom"})}}else jQuery(t).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(".insertYboxAjaxHere.isAjax").length&&jQuery(".insertYboxAjaxHere.isAjax").removeClass("isAjax"),jQuery(t).appendTo(".insertYboxAjaxHere");window.screen.width>991&&setTimeout(function(){e.data("focus")?jQuery(".insertYboxAjaxHere ."+e.data("focus")).focus():jQuery(".insertYboxAjaxHere iframe, .insertYboxAjaxHere a, .insertYboxAjaxHere input, .insertYboxAjaxHere select:not(.select2), .insertYboxAjaxHere .select2-selection, .insertYboxAjaxHere button").first().focus()},500)}else!a&&t?(jQuery(t).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(t).appendTo(".insertYboxAjaxHere")):jQuery(".insertYboxAjaxHere").html(a)}function yBox_Group(e,o){var t=e.data("ybox-group");return t&&jQuery('.yBox[data-ybox-group="'+t+'"]').length>1&&(o='<button type="button" class="yBoxNext" title="'+strings.next+'"></button>'+o+'<button type="button" class="yBoxPrev" title="'+strings.prev+'"></button>'),jQuery(".insertYboxAjaxHere").html(o),o}function yBoxNext(e){var o,t=e.data("ybox-group"),a=!1;jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').each(function(r){a||jQuery(this).attr("href")!=e.attr("href")||(a=!0,o=jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(r+1).length?jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(r+1):jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(0))}),o&&(jQuery(".yBox").data("focus",""),o.data("focus","yBoxNext"),o.trigger("click"))}function yBoxPrev(e){var o,t=e.data("ybox-group");jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').each(function(a){if(jQuery(this).attr("href")==e.attr("href")){if(jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(a-1).length)o=jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(a-1);else{var r=jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').length;o=jQuery('.yBox[data-ybox-group="'+t+'"]:not(.swiper-slide-duplicate)').eq(r-1)}}}),o&&(jQuery(".yBox").data("focus",""),o.data("focus","yBoxPrev"),o.trigger("click"))}(msg||yBoxPrm)&&(jQuery.isEmptyObject(yBoxPrm)||-1!=yBoxPrm.indexOf("http:")||-1!=yBoxPrm.indexOf("https:")||(yBoxPrm="#"+yBoxPrm),yBox({code:!yBoxPrm&&msg,yBoxClass:yBoxClassPrm||"ybox-content-frame",url:!!yBoxPrm&&yBoxPrm}),setTimeout(function(){var e=new URLSearchParams(window.location.search);e.delete("msg"),e.delete("ybox-url"),e.delete("ybox-class"),e.toString()&&(e="?"+e.toString());var o=window.location.pathname+e;window.history.pushState("","",o)},500)),jQuery("body").on("click",".yBoxNext",function(e){yBoxNext(jQuery(".yBoxFocus"))}),jQuery("body").on("click",".yBoxPrev",function(e){yBoxPrev(jQuery(".yBoxFocus"))}),jQuery("body").on("click",".yBoxOverlay",function(e){for(var o,t="",a=0;a<e.target.classList.length;a++)(e.target.classList[a].indexOf("yBoxOverlay")>-1||e.target.classList[a].indexOf("active")>-1)&&(t+=e.target.classList[a]+" ");if(t.indexOf("yBoxOverlay active")>-1||e.target.className.indexOf("closeYbox")>-1){if(jQuery(".yBox.yBoxFocus").length?o=jQuery(".yBox.yBoxFocus"):jQuery(".insertYboxAjaxHere > div").attr("id").length&&(o=jQuery("#"+jQuery(".insertYboxAjaxHere > div").attr("id"))),"undefined"!=typeof beforeYboxClose&&!1==beforeYboxClose(o))return!1;jQuery(".yBoxOverlay").removeClass("active"),jQuery(".yBoxFocus").focus(),setTimeout(function(){jQuery(".yBoxFramePlaceHolder").length&&(jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()),jQuery(".yBoxOverlay").remove(),"undefined"!=typeof afterYboxClose&&afterYboxClose(o)},600)}}),jQuery("body").on("focus",".closeYboxOnFocus",function(){jQuery(".closeYbox").trigger("click")}),jQuery(document).keyup(function(e){39===e.keyCode&&yBoxPrev(jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]')),37===e.keyCode&&yBoxNext(jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]')),27===e.keyCode&&jQuery(".closeYbox").trigger("click")});