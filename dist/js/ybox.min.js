/*! yBox - v8 - 21/05/2025
* By Yuval Ashkenazi
* https://github.com/yuvalAshkenaz/yBox */
"use strict";function ybox_zoom(e,t){e=void 0!==e&&Object.keys(e).length?e:{};for(var o,a,r,s,i,n,l,u,y,x,d,c,b,f,m,h,v,p,g,B,j,_,Q,w,A,C,Y,F,L,H,E,O,M=(t=void 0!==t&&Object.keys(t).length?t:{}).scaleDefault||2,S=t.scaleDifference||.5,D=t.scaleMax||10,I=t.scaleMin||1,P=e.active||"active",k="data-scale",W="data-translate-x",R="data-translate-y",N=e.transition||"transition",T=e.visible||"visible",q=document.getElementsByClassName(e.zoom||"zoom"),U=!1,X=[null],z=0,G=!1,K=0,V=[null],Z=0;Z<q.length;Z++)o=q[Z],(a=o.children[0]).setAttribute(k,1),a.setAttribute(W,0),a.setAttribute(R,0);window.addEventListener("load",(function(){for(var e=0;e<q.length;e++)o=q[e],ybox_addClass(a=o.children[0],T);window.addEventListener("resize",(function(){for(var e=0;e<q.length;e++)o=q[e],a=o.children[0],!1!==ybox_hasClass(o,P)&&(r=o.clientHeight,s=o.clientWidth,u=a.clientHeight,y=a.clientWidth,x=parseFloat(a.getAttribute(W)),d=parseFloat(a.getAttribute(R)),v=(y*(E=M)-s)/2,p=(u*E-r)/2,F=y*E>s?ybox_minMax(x,-1*v,v):0,L=u*E>r?ybox_minMax(d,-1*p,p):0,1===E&&ybox_removeClass(o,P),a.setAttribute(k,E),a.setAttribute(W,F),a.setAttribute(R,L),ybox_moveScaleElement(a,F+"px",L+"px",E))}))})),ybox_massAddEventListener(q,"mousedown",(function(e){if(e.preventDefault(),!0===G||1!==e.which)return!1;if(o=this,a=this.children[0],b=e.clientX,m=e.clientY,null===X[0])X[0]=e.target,X[1]=b,X[2]=m,setTimeout((function(){X=[null]}),300);else if(X[0]===e.target&&z<=5&&!0===ybox_isWithinRange(b,X[1]-10,X[1]+10)&&!0===ybox_isWithinRange(m,X[2]-10,X[2]+10))return ybox_addClass(a,N),!0===ybox_hasClass(o,P)?(a.setAttribute(k,1),a.setAttribute(W,0),a.setAttribute(R,0),ybox_removeClass(o,P),ybox_moveScaleElement(a,0,0,1)):(a.setAttribute(k,M),a.setAttribute(W,0),a.setAttribute(R,0),ybox_addClass(o,P),ybox_moveScaleElement(a,0,0,M)),setTimeout((function(){ybox_removeClass(a,N)}),200),X=[null],!1;g=o.getBoundingClientRect(),i=g.left,n=g.top,r=o.clientHeight,s=o.clientWidth,u=a.clientHeight,y=a.clientWidth,x=parseFloat(a.getAttribute(W)),d=parseFloat(a.getAttribute(R)),l=ybox_minMax(parseFloat(a.getAttribute(k)),I,D),z=0,U=!0})),ybox_massAddEventListener(q,"mouseenter",(function(){ybox_disableScroll(!0)})),ybox_massAddEventListener(q,"mouseleave",(function(){ybox_enableScroll()})),document.addEventListener("mousemove",(function(e){if(!0===G||!1===U)return!1;_=e.clientX,w=e.clientY,v=(y*(E=l)-s)/2,p=(u*E-r)/2,F=y*E<=s?0:ybox_minMax(_-(b-x),-1*v,v),L=u*E<=r?0:ybox_minMax(w-(m-d),-1*p,p),z++,Math.abs(F)===Math.abs(v)&&(x=F,b=_);Math.abs(L)===Math.abs(p)&&(d=L,m=w);a.setAttribute(k,E),a.setAttribute(W,F),a.setAttribute(R,L),ybox_moveScaleElement(a,F+"px",L+"px",E)})),document.addEventListener("mouseup",(function(){if(!0===G||!1===U)return!1;U=!1})),document.addEventListener("touchstart",(function(){G=!0})),ybox_massAddEventListener(q,"touchstart",(function(e){if(e.preventDefault(),e.touches.length>2)return!1;if(o=this,a=this.children[0],g=o.getBoundingClientRect(),i=g.left,n=g.top,r=o.clientHeight,s=o.clientWidth,u=a.clientHeight,y=a.clientWidth,b=e.touches[0].clientX,m=e.touches[0].clientY,l=ybox_minMax(parseFloat(a.getAttribute(k)),I,D),1===(O=e.touches.length)){if(null===V[0])V[0]=e.target,V[1]=b,V[2]=m,setTimeout((function(){V=[null]}),300);else if(V[0]===e.target&&K<=1&&!0===ybox_isWithinRange(b,V[1]-10,V[1]+10)&&!0===ybox_isWithinRange(m,V[2]-10,V[2]+10))return ybox_addClass(a,N),!0===ybox_hasClass(o,P)?(a.setAttribute(k,1),a.setAttribute(W,0),a.setAttribute(R,0),ybox_removeClass(o,P),ybox_moveScaleElement(a,0,0,1)):(a.setAttribute(k,M),a.setAttribute(W,0),a.setAttribute(R,0),ybox_addClass(o,P),ybox_moveScaleElement(a,0,0,M)),setTimeout((function(){ybox_removeClass(a,N)}),200),V=[null],!1;x=parseFloat(a.getAttribute(W)),d=parseFloat(a.getAttribute(R))}else 2===O&&(x=parseFloat(a.getAttribute(W)),d=parseFloat(a.getAttribute(R)),f=e.touches[1].clientX,h=e.touches[1].clientY,B=(b+f)/2,j=(m+h)/2,c=Math.sqrt((b-f)*(b-f)+(m-h)*(m-h)));K=0,U=!0})),document.addEventListener("touchmove",(function(e){if(!1===U)return!1;e.preventDefault(),_=e.touches[0].clientX,w=e.touches[0].clientY,O=e.touches.length,K++,O>1?(Q=e.touches[1].clientX,A=e.touches[1].clientY,H=Math.sqrt((_-Q)*(_-Q)+(w-A)*(w-A)),null===c&&(c=H),Math.abs(c-H)>=1&&(E=ybox_minMax(H/c*l,I,D),v=(y*E-s)/2,p=(u*E-r)/2,Y=E-l,F=y*E<=s?0:ybox_minMax(x-(B-i-s/2-x)/(E-Y)*Y,-1*v,v),L=u*E<=r?0:ybox_minMax(d-(j-n-r/2-d)/(E-Y)*Y,-1*p,p),E>1?ybox_addClass(o,P):ybox_removeClass(o,P),ybox_moveScaleElement(a,F+"px",L+"px",E),c=H,l=E,x=F,d=L)):(v=(y*(E=l)-s)/2,p=(u*E-r)/2,F=y*E<=s?0:ybox_minMax(_-(b-x),-1*v,v),L=u*E<=r?0:ybox_minMax(w-(m-d),-1*p,p),Math.abs(F)===Math.abs(v)&&(x=F,b=_),Math.abs(L)===Math.abs(p)&&(d=L,m=w),a.setAttribute(k,l),a.setAttribute(W,F),a.setAttribute(R,L),ybox_moveScaleElement(a,F+"px",L+"px",E))}),{passive:!1}),document.addEventListener("touchend",(function(e){if(O=e.touches.length,!1===U)return!1;0===O?(a.setAttribute(k,l),a.setAttribute(W,F),a.setAttribute(R,L),c=null,U=!1):1===O?(b=e.touches[0].clientX,m=e.touches[0].clientY):O>1&&(c=null)})),ybox_massAddEventListener(q,"wheel",(function(e){if(o=this,a=this.children[0],g=o.getBoundingClientRect(),r=o.clientHeight,s=o.clientWidth,u=a.clientHeight,y=a.clientWidth,i=g.left,n=g.top,l=ybox_minMax(parseFloat(a.getAttribute(k),I,D)),x=parseFloat(a.getAttribute(W)),d=parseFloat(a.getAttribute(R)),_=e.clientX,w=e.clientY,C=e.deltaY<0?1:-1,(E=l+(Y=S*C))<I||E>D)return!1;v=(y*E-s)/2,p=(u*E-r)/2,E<=1?(F=0,L=0):(F=y*E<=s?0:ybox_minMax(x-(_-i-s/2-x)/(E-Y)*Y,-1*v,v),L=u*E<=r?0:ybox_minMax(d-(w-n-r/2-d)/(E-Y)*Y,-1*p,p));E>1?ybox_addClass(o,P):ybox_removeClass(o,P);a.setAttribute(k,E),a.setAttribute(W,F),a.setAttribute(R,L),ybox_moveScaleElement(a,F+"px",L+"px",E)}))}function ybox_addClass(e,t){!1===ybox_hasClass(e,t)&&(e.className+=" "+t)}function ybox_disableScroll(e){e||(window.addEventListener&&window.addEventListener("DOMMouseScroll",ybox_preventDefault,!1),window.onwheel=ybox_preventDefault,window.onmousewheel=document.onmousewheel=ybox_preventDefault,window.ontouchmove=ybox_preventDefault),document.onkeydown=ybox_preventDefaultForScrollKeys}function ybox_enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",ybox_preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function ybox_isWithinRange(e,t,o){return e>=t&&e<=o}function ybox_hasClass(e,t){var o=new RegExp("(?:^|\\s)"+t+"(?!\\S)","g");return!(!e.className||!e.className.match(o))}function ybox_massAddEventListener(e,t,o,a){a=a||!1;for(var r=0;r<e.length;r++)e[r].addEventListener(t,o,a)}function ybox_minMax(e,t,o){return e<t?e=t:e>o&&(e=o),e}function ybox_moveScaleElement(e,t,o,a){e.style.cssText="-moz-transform : translate("+t+", "+o+") scale("+a+"); -ms-transform : translate("+t+", "+o+") scale("+a+"); -o-transform : translate("+t+", "+o+") scale("+a+"); -webkit-transform : translate("+t+", "+o+") scale("+a+"); transform : translate3d("+t+", "+o+", 0) scale3d("+a+", "+a+", 1);"}function ybox_preventDefault(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}function ybox_preventDefaultForScrollKeys(e){if({37:1,38:1,39:1,40:1}[e.keyCode])return preventDefault(e),!1}function ybox_removeClass(e,t){var o=new RegExp("(?:^|\\s)"+t+"(?!\\S)","g");e.className=e.className.replace(o,"")}jQuery("body").on("click",".yBox",(function(e){e.preventDefault(),e.stopPropagation();var t=jQuery(this);if(jQuery(".yBoxFocus").length){if("undefined"!=typeof beforeYboxClose)if(0==beforeYboxClose(jQuery(".yBoxFocus")))return!1;jQuery(".yBoxFocus").not(t).removeClass("yBoxFocus")}t.addClass("yBoxFocus"),yBox({self:t})}));var yUrl=new URL(document.currentScript.src),yBox_lang=yUrl.searchParams.get("lang"),strings={close:"Close",next:"Next",prev:"Prev"};"he"!=yBox_lang&&"he-IL"!=yBox_lang&&"he_IL"!=yBox_lang||(yBox_lang="he",strings={close:"סגירה",next:"הבא",prev:"הקודם"}),"ar"!=yBox_lang&&"ar-ar"!=yBox_lang||(yBox_lang="ar",strings={close:"لإغلاق",next:"التالي",prev:"السابق"});var url=new URL(window.location.href),msg=url.searchParams.get("msg"),yBoxID=url.searchParams.get("ybox-id"),yBoxURL=url.searchParams.get("ybox-url"),yBoxHeadline=url.searchParams.get("ybox-headline"),yBoxClassPrm=url.searchParams.get("ybox-class");function yBox(e){if(!jQuery(".yBoxOverlay:not(.active)").length){var t;e.self?t=e.self:e.id&&(t=jQuery(e.id)),"undefined"!=typeof beforeYboxOpen&&beforeYboxOpen(t),e.hasSelf=!0,void 0===e.yBoxClass&&(e.yBoxClass=""),void 0!==e.self&&e.self||(e.hasSelf=!1),e.hasSelf&&(e.yBoxClass=e.self.data("ybox-class")||"",e.url=e.self.attr("href"));var o='<div class="yBoxOverlay no-contrast'+("he"==yBox_lang||"ar"==yBox_lang?" yBoxRTL":"")+'" tabindex="-1"><div class="yBoxFrame '+e.yBoxClass+'" role="dialog"><button type="button" class="closeYbox" title="'+strings.close+'" aria-label="'+strings.close+'"></button><div class="insertYboxAjaxHere" tabindex="-1"></div></div></div>';jQuery(".yBoxFrame").length?jQuery(".yBoxFrame.yBoxImgWrap").length?(remove_yBox_placeholder(),jQuery(".insertYboxAjaxHere").html(""),insert_yBox_html(e),"undefined"!=typeof afterYboxOpen&&afterYboxOpen(t)):jQuery(".insertYboxAjaxHere").animate({opacity:0},(function(){var o=jQuery(this);setTimeout((function(){remove_yBox_placeholder(),o.html(""),insert_yBox_html(e),jQuery(".insertYboxAjaxHere").animate({opacity:1},(function(){"undefined"!=typeof afterYboxOpen&&afterYboxOpen(t)}))}),200)})):(jQuery("body").append(o),insert_yBox_html(e),setTimeout((function(){jQuery(".yBoxOverlay").addClass("active"),"undefined"!=typeof afterYboxOpen&&afterYboxOpen(t)}),200))}}function ybox_iframe(e){var t="",o="";if(e.hasSelf?(e.self.data("ybox-title")&&(t+=' title="'+e.self.data("ybox-title")+'"'),e.self.data("ybox-headline-class")&&(t+=' class="'+e.self.data("ybox-headline-class")+'"'),e.self.data("ybox-headline")&&(o='<h2 id="ybox-iframe-headline">'+e.self.data("ybox-headline")+"</h2>",t+=' aria-labelledby="ybox-iframe-headline"')):e.headline&&(o='<h2 id="ybox-iframe-headline">'+e.headline+"</h2>",t+=' aria-labelledby="ybox-iframe-headline"'),jQuery(".yBoxFrame").addClass("yBoxIframeWrap"),e.url.toLowerCase().indexOf("youtube")>-1||e.url.toLowerCase().indexOf("youtu.be")>-1){var a=e.url.replace(/^[^v]+v.(.{11}).*/,"$1").replace("https://youtu.be/","").replace(/.*youtube.com\/embed\//,"");e.url="https://www.youtube.com/embed/"+a+"?wmode=transparent&rel=0&autoplay=1&hl="+yBox_lang}else if(e.url.toLowerCase().indexOf("vimeo")>-1){var r=e.url.match(/video\/(\d+)/)[1];e.url="https://player.vimeo.com/video/"+r+"?autoplay=1&background=1"}var s=o+'<iframe src="'+e.url+'" frameborder="0" wmode="Opaque" allow="autoplay" allowfullscreen id="yBoxIframe" class="yBoxIframe" '+t+"></iframe>";return e.hasSelf&&(s=yBox_Group(e.self,s)),s}function insert_yBox_html(e){if(jQuery(".yBoxFrame").removeClass("yBoxIframeWrap yBoxImgWrap"),e.hasSelf){if(e.self.hasClass("yBox_iframe"))ybox_iframe(e);else if(e.self.hasClass("yBox_video")){jQuery(".yBoxFrame").addClass("yBoxIframeWrap");var t='<video class="yBoxVideo" autoplay controls preload plays-inline playsinline><source src="'+e.url+'" type="video/mp4" /></video>';t=yBox_Group(e.self,t),jQuery(".yBoxFrame .insertYboxAjaxHere").html(t)}else if(e.self.hasClass("yBox_ajax"))jQuery.get(e.url,(function(e){jQuery(".insertYboxAjaxHere").addClass("isAjax").html(e)}));else if(void 0!==e.url&&-1==e.url.indexOf("#")){jQuery(".yBoxFrame").addClass("yBoxImgWrap"),jQuery(".insertYboxAjaxHere").append('<div style="text-align:center;position:absolute;right:0;left:0;top:0;bottom:0;"><div class="yBoxLoader"></div></div>');var o=new Image;o.src=e.url,o.className="yBoxImg",o.onload=function(){var t=e.self.data("ybox-alt")||"",o=e.self.data("ybox-title")?'title="'+e.self.data("ybox-title")+'"':"",a="",r="";e.self.data("ybox-headline")&&(a='<h2 id="ybox-img-title" class="ybox-img-title">'+e.self.data("ybox-headline")+"</h2>",r='aria-labelledby="ybox-img-title"');var s='<div class="yBoxImgZoom"><img src="'+e.url+'" alt="'+t+'" '+o+' id="yBoxImg" class="yBoxImg" '+r+" />"+a+"</div>";s=yBox_Group(e.self,s),window.screen.width<=767&&ybox_zoom({zoom:"yBoxImgZoom"})}}else void 0===e.url&&void 0!==e.code?(jQuery(".insertYboxAjaxHere").html(e.code),void 0===e.self||e.self.hasClass("yBoxFocus")||(jQuery(".yBoxFocus").not(e.self).removeClass("yBoxFocus"),e.self.addClass("yBoxFocus"))):(jQuery(e.url).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(".insertYboxAjaxHere.isAjax").length&&jQuery(".insertYboxAjaxHere.isAjax").removeClass("isAjax"),jQuery(e.url).appendTo(".insertYboxAjaxHere"));window.screen.width>991&&setTimeout((function(){e.self.data("focus")?jQuery(".insertYboxAjaxHere ."+e.self.data("focus")).focus():setYboxFocus()}),500)}else e.url?(e.code=ybox_iframe(e),jQuery(".insertYboxAjaxHere").html(e.code)):void 0===e.code&&void 0!==e.id?(jQuery(e.id).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(e.id).appendTo(".insertYboxAjaxHere")):jQuery(".insertYboxAjaxHere").html(e.code),setTimeout((function(){setYboxFocus({focus:e.focus})}),500)}function setYboxFocus(e){void 0!==e&&void 0!==e.focus?jQuery(e.focus).focus():jQuery(".closeYbox").focus()}function yBox_Group(e,t){var o=e.data("ybox-group");return o&&jQuery('.yBox[data-ybox-group="'+o+'"]').length>1&&(t='<button type="button" class="yBoxNext" title="'+strings.next+'"></button>'+t+'<button type="button" class="yBoxPrev" title="'+strings.prev+'"></button>'),jQuery(".insertYboxAjaxHere").html(t),t}function yBoxNext(e){var t,o=e.data("ybox-group"),a=!1;jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').each((function(r){a||jQuery(this).attr("data-ybox-id")==e.attr("data-ybox-id")&&(a=!0,t=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(r+1).length?jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(r+1):jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(0))})),t&&(jQuery(".yBox").data("focus",""),t.data("focus","yBoxNext"),t.trigger("click"))}function yBoxPrev(e){var t,o=e.data("ybox-group");jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').each((function(a){if(jQuery(this).attr("data-ybox-id")==e.attr("data-ybox-id"))if(jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(a-1).length)t=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(a-1);else{var r=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').length;t=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(r-1)}})),t&&(jQuery(".yBox").data("focus",""),t.data("focus","yBoxPrev"),t.trigger("click"))}function remove_yBox_placeholder(){if(jQuery(".yBoxFramePlaceHolder").length){var e=jQuery(".insertYboxAjaxHere > *").eq(0).attr("id");e?jQuery("#"+e).insertBefore(".yBoxFramePlaceHolder"):jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()}}(msg||yBoxID||yBoxURL)&&(jQuery.isEmptyObject(yBoxID)||-1!=yBoxID.indexOf("http:")||-1!=yBoxID.indexOf("https:")||(yBoxID="#"+yBoxID),yBox({code:!yBoxID&&msg,yBoxClass:yBoxClassPrm||"ybox-content-frame",id:yBoxID||!1,url:yBoxURL||!1,headline:yBoxHeadline||!1}),setTimeout((function(){var e=new URLSearchParams(window.location.search);e.delete("msg"),e.delete("ybox-id"),e.delete("ybox-url"),e.delete("ybox-class"),e.delete("ybox-headline"),yBoxURL.indexOf("youtube")>-1&&e.delete("list"),e.toString()&&(e="?"+e.toString());var t=window.location.pathname+e;window.history.pushState("","",t)}),500)),jQuery("body").on("click",".yBoxNext",(function(e){yBoxNext(jQuery(".yBoxFocus"))})),jQuery("body").on("click",".yBoxPrev",(function(e){yBoxPrev(jQuery(".yBoxFocus"))})),setTimeout((function(){jQuery(".yBox[data-ybox-group]:not(.swiper-slide-duplicate)").each((function(e){var t=jQuery(this).data("ybox-group");jQuery(this).attr("data-ybox-id",t+"-"+e)})),jQuery(".yBox[data-ybox-group].swiper-slide-duplicate").each((function(e){var t=jQuery(this).data("ybox-group");jQuery(this).attr("data-ybox-id",t+"-"+e)}))}),500),jQuery("body").on("click",".yBoxOverlay",(function(e){for(var t="",o=0;o<e.target.classList.length;o++)(e.target.classList[o].indexOf("yBoxOverlay")>-1||e.target.classList[o].indexOf("active")>-1)&&(t+=e.target.classList[o]+" ");if(t.indexOf("yBoxOverlay active")>-1||"string"==typeof e.target.className&&e.target.className.indexOf("closeYbox")>-1){var a=jQuery(".insertYboxAjaxHere > *").eq(0);if(jQuery(".yBoxFocus").length&&(a=jQuery(".yBoxFocus")),"undefined"!=typeof beforeYboxClose)if(0==beforeYboxClose(a))return!1;jQuery(".yBoxOverlay").removeClass("active"),jQuery(".yBoxFocus").focus().removeClass("yBoxFocus"),setTimeout((function(){"undefined"!=typeof afterYboxClose&&afterYboxClose(a),remove_yBox_placeholder(),jQuery(".yBoxOverlay").remove()}),600)}})),jQuery(document).keyup((function(e){if(jQuery(".yBoxImg").length){var t=jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]');39===e.keyCode&&("he"==yBox_lang?yBoxPrev(t):yBoxNext(t)),37===e.keyCode&&("he"==yBox_lang?yBoxNext(t):yBoxPrev(t))}27===e.keyCode&&jQuery(".closeYbox").trigger("click"),9==e.keyCode&&jQuery("body").addClass("ybox-focus")})),jQuery(document).keydown((function(e){var t=jQuery(".yBoxFrame").find("input, button, textarea, select, a").filter(":visible"),o=t.first(),a=t.last();9==e.keyCode&&(e.shiftKey&&jQuery(document.activeElement).is(o)?(e.preventDefault(),a.focus()):!e.shiftKey&&jQuery(document.activeElement).is(a)&&(e.preventDefault(),o.focus()))}));