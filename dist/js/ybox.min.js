/*! yBox - v5.6 - 31/12/2023
* By Yuval Ashkenazi
* https://github.com/yuvalAshkenaz/yBox */
"use strict"
function ybox_zoom(e,t){function o(){ybox_disableScroll(!0)}function r(){ybox_enableScroll()}function a(e){if(e.preventDefault(),!0===re||1!==e.which)return!1
if(x=this,c=this.children[0],j=e.clientX,Q=e.clientY,null===te[0])te[0]=e.target,te[1]=j,te[2]=Q,setTimeout(function(){te=[null]},300)
else if(te[0]===e.target&&oe<=5&&!0===ybox_isWithinRange(j,te[1]-10,te[1]+10)&&!0===ybox_isWithinRange(Q,te[2]-10,te[2]+10))return ybox_addClass(c,Z),!0===ybox_hasClass(x,U)?(c.setAttribute(G,1),c.setAttribute(K,0),c.setAttribute(V,0),ybox_removeClass(x,U),ybox_moveScaleElement(c,0,0,1)):(c.setAttribute(G,R),c.setAttribute(K,0),c.setAttribute(V,0),ybox_addClass(x,U),ybox_moveScaleElement(c,0,0,R)),setTimeout(function(){ybox_removeClass(c,Z)},200),te=[null],!1
F=x.getBoundingClientRect(),f=F.left,m=F.top,d=x.clientHeight,b=x.clientWidth,v=c.clientHeight,p=c.clientWidth,g=parseFloat(c.getAttribute(K)),B=parseFloat(c.getAttribute(V)),h=ybox_minMax(parseFloat(c.getAttribute(G)),z,X),oe=0,ee=!0}function s(e){if(!0===re||!1===ee)return!1
M=e.clientX,O=e.clientY,N=h,C=(p*N-b)/2,Y=(v*N-d)/2,W=p*N<=b?0:ybox_minMax(M-(j-g),-1*C,C),k=v*N<=d?0:ybox_minMax(O-(Q-B),-1*Y,Y),oe++,Math.abs(W)===Math.abs(C)&&(g=W,j=M),Math.abs(k)===Math.abs(Y)&&(B=k,Q=O),c.setAttribute(G,N),c.setAttribute(K,W),c.setAttribute(V,k),ybox_moveScaleElement(c,W+"px",k+"px",N)}function n(){if(!0===re||!1===ee)return!1
ee=!1}function l(e){if(e.preventDefault(),e.touches.length>2)return!1
if(x=this,c=this.children[0],F=x.getBoundingClientRect(),f=F.left,m=F.top,d=x.clientHeight,b=x.clientWidth,v=c.clientHeight,p=c.clientWidth,j=e.touches[0].clientX,Q=e.touches[0].clientY,h=ybox_minMax(parseFloat(c.getAttribute(G)),z,X),1===(T=e.touches.length)){if(null===se[0])se[0]=e.target,se[1]=j,se[2]=Q,setTimeout(function(){se=[null]},300)
else if(se[0]===e.target&&ae<=1&&!0===ybox_isWithinRange(j,se[1]-10,se[1]+10)&&!0===ybox_isWithinRange(Q,se[2]-10,se[2]+10))return ybox_addClass(c,Z),!0===ybox_hasClass(x,U)?(c.setAttribute(G,1),c.setAttribute(K,0),c.setAttribute(V,0),ybox_removeClass(x,U),ybox_moveScaleElement(c,0,0,1)):(c.setAttribute(G,R),c.setAttribute(K,0),c.setAttribute(V,0),ybox_addClass(x,U),ybox_moveScaleElement(c,0,0,R)),setTimeout(function(){ybox_removeClass(c,Z)},200),se=[null],!1
g=parseFloat(c.getAttribute(K)),B=parseFloat(c.getAttribute(V))}else 2===T&&(g=parseFloat(c.getAttribute(K)),B=parseFloat(c.getAttribute(V)),w=e.touches[1].clientX,A=e.touches[1].clientY,E=(j+w)/2,L=(Q+A)/2,_=Math.sqrt((j-w)*(j-w)+(Q-A)*(Q-A)))
ae=0,ee=!0}function i(e){if(!1===ee)return!1
e.preventDefault(),M=e.touches[0].clientX,O=e.touches[0].clientY,T=e.touches.length,ae++,T>1?(H=e.touches[1].clientX,P=e.touches[1].clientY,I=Math.sqrt((M-H)*(M-H)+(O-P)*(O-P)),null===_&&(_=I),Math.abs(_-I)>=1&&(N=ybox_minMax(I/_*h,z,X),C=(p*N-b)/2,Y=(v*N-d)/2,D=N-h,W=p*N<=b?0:ybox_minMax(g-(E-f-b/2-g)/(N-D)*D,-1*C,C),k=v*N<=d?0:ybox_minMax(B-(L-m-d/2-B)/(N-D)*D,-1*Y,Y),N>1?ybox_addClass(x,U):ybox_removeClass(x,U),ybox_moveScaleElement(c,W+"px",k+"px",N),_=I,h=N,g=W,B=k)):(N=h,C=(p*N-b)/2,Y=(v*N-d)/2,W=p*N<=b?0:ybox_minMax(M-(j-g),-1*C,C),k=v*N<=d?0:ybox_minMax(O-(Q-B),-1*Y,Y),Math.abs(W)===Math.abs(C)&&(g=W,j=M),Math.abs(k)===Math.abs(Y)&&(B=k,Q=O),c.setAttribute(G,h),c.setAttribute(K,W),c.setAttribute(V,k),ybox_moveScaleElement(c,W+"px",k+"px",N))}function u(e){if(T=e.touches.length,!1===ee)return!1
0===T?(c.setAttribute(G,h),c.setAttribute(K,W),c.setAttribute(V,k),_=null,ee=!1):1===T?(j=e.touches[0].clientX,Q=e.touches[0].clientY):T>1&&(_=null)}function y(e){if(x=this,c=this.children[0],F=x.getBoundingClientRect(),d=x.clientHeight,b=x.clientWidth,v=c.clientHeight,p=c.clientWidth,f=F.left,m=F.top,h=ybox_minMax(parseFloat(c.getAttribute(G),z,X)),g=parseFloat(c.getAttribute(K)),B=parseFloat(c.getAttribute(V)),M=e.clientX,O=e.clientY,S=e.deltaY<0?1:-1,D=q*S,(N=h+D)<z||N>X)return!1
C=(p*N-b)/2,Y=(v*N-d)/2,N<=1?(W=0,k=0):(W=p*N<=b?0:ybox_minMax(g-(M-f-b/2-g)/(N-D)*D,-1*C,C),k=v*N<=d?0:ybox_minMax(B-(O-m-d/2-B)/(N-D)*D,-1*Y,Y)),N>1?ybox_addClass(x,U):ybox_removeClass(x,U),c.setAttribute(G,N),c.setAttribute(K,W),c.setAttribute(V,k),ybox_moveScaleElement(c,W+"px",k+"px",N)}e=void 0!==e&&Object.keys(e).length?e:{},t=void 0!==t&&Object.keys(t).length?t:{}
for(var x,c,d,b,f,m,h,v,p,g,B,_,j,w,Q,A,C,Y,F,E,L,M,H,O,P,S,D,W,k,I,N,T,R=t.scaleDefault||2,q=t.scaleDifference||.5,X=t.scaleMax||10,z=t.scaleMin||1,U=e.active||"active",G="data-scale",K="data-translate-x",V="data-translate-y",Z=e.transition||"transition",$=e.visible||"visible",J=document.getElementsByClassName(e.zoom||"zoom"),ee=!1,te=[null],oe=0,re=!1,ae=0,se=[null],ne=0;ne<J.length;ne++)x=J[ne],c=x.children[0],c.setAttribute(G,1),c.setAttribute(K,0),c.setAttribute(V,0)
window.addEventListener("load",function(){for(var e=0;e<J.length;e++)x=J[e],c=x.children[0],ybox_addClass(c,$)
window.addEventListener("resize",function(){for(var e=0;e<J.length;e++)x=J[e],c=x.children[0],!1!==ybox_hasClass(x,U)&&(d=x.clientHeight,b=x.clientWidth,v=c.clientHeight,p=c.clientWidth,g=parseFloat(c.getAttribute(K)),B=parseFloat(c.getAttribute(V)),N=R,C=(p*N-b)/2,Y=(v*N-d)/2,W=p*N>b?ybox_minMax(g,-1*C,C):0,k=v*N>d?ybox_minMax(B,-1*Y,Y):0,1===N&&ybox_removeClass(x,U),c.setAttribute(G,N),c.setAttribute(K,W),c.setAttribute(V,k),ybox_moveScaleElement(c,W+"px",k+"px",N))})}),ybox_massAddEventListener(J,"mousedown",a),ybox_massAddEventListener(J,"mouseenter",o),ybox_massAddEventListener(J,"mouseleave",r),document.addEventListener("mousemove",s),document.addEventListener("mouseup",n),document.addEventListener("touchstart",function(){re=!0}),ybox_massAddEventListener(J,"touchstart",l),document.addEventListener("touchmove",i,{passive:!1}),document.addEventListener("touchend",u),ybox_massAddEventListener(J,"wheel",y)}function ybox_addClass(e,t){!1===ybox_hasClass(e,t)&&(e.className+=" "+t)}function ybox_disableScroll(e){e||(window.addEventListener&&window.addEventListener("DOMMouseScroll",ybox_preventDefault,!1),window.onwheel=ybox_preventDefault,window.onmousewheel=document.onmousewheel=ybox_preventDefault,window.ontouchmove=ybox_preventDefault),document.onkeydown=ybox_preventDefaultForScrollKeys}function ybox_enableScroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",ybox_preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null,document.onkeydown=null}function ybox_isWithinRange(e,t,o){return e>=t&&e<=o}function ybox_hasClass(e,t){var o=new RegExp("(?:^|\\s)"+t+"(?!\\S)","g")
return!(!e.className||!e.className.match(o))}function ybox_massAddEventListener(e,t,o,r){for(var r=r||!1,a=0;a<e.length;a++)e[a].addEventListener(t,o,r)}function ybox_minMax(e,t,o){return e<t?e=t:e>o&&(e=o),e}function ybox_moveScaleElement(e,t,o,r){e.style.cssText="-moz-transform : translate("+t+", "+o+") scale("+r+"); -ms-transform : translate("+t+", "+o+") scale("+r+"); -o-transform : translate("+t+", "+o+") scale("+r+"); -webkit-transform : translate("+t+", "+o+") scale("+r+"); transform : translate3d("+t+", "+o+", 0) scale3d("+r+", "+r+", 1);"}function ybox_preventDefault(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function ybox_preventDefaultForScrollKeys(e){if({37:1,38:1,39:1,40:1}[e.keyCode])return preventDefault(e),!1}function ybox_removeClass(e,t){var o=new RegExp("(?:^|\\s)"+t+"(?!\\S)","g")
e.className=e.className.replace(o,"")}function yBox(e){if(!jQuery(".yBoxOverlay:not(.active)").length){var t
e.self?t=e.self:e.url&&(t=jQuery(e.url)),"undefined"!=typeof beforeYboxOpen&&beforeYboxOpen(t)
var o=!0
void 0===e.yBoxClass&&(e.yBoxClass=""),void 0!==e.self&&e.self||(o=!1),o&&(e.yBoxClass=e.self.data("ybox-class")||"",e.url=e.self.attr("href"))
var r='<div class="yBoxOverlay no-contrast'+("he"==yBox_lang||"ar"==yBox_lang?" yBoxRTL":"")+'"><div class="yBoxFrame '+e.yBoxClass+'"><button type="button" class="closeYboxOnFocus"></button><button type="button" class="closeYbox" title="'+strings.close+'"></button><div class="insertYboxAjaxHere" tabindex="0"></div><button type="button" class="closeYboxOnFocus"></button></div></div>'
jQuery(".yBoxFrame").length?jQuery(".yBoxFrame.yBoxImgWrap").length?(remove_yBox_placeholder(),jQuery(".insertYboxAjaxHere").html(""),insert_yBox_html({self:e.self,hasSelf:o,url:e.url,code:e.code,focus:e.focus})):jQuery(".insertYboxAjaxHere").animate({opacity:0},function(){var t=jQuery(this)
setTimeout(function(){remove_yBox_placeholder(),t.html(""),insert_yBox_html({self:e.self,hasSelf:o,url:e.url,code:e.code,focus:e.focus}),jQuery(".insertYboxAjaxHere").animate({opacity:1})},200)}):(jQuery("body").append(r),insert_yBox_html({self:e.self,hasSelf:o,url:e.url,code:e.code,focus:e.focus}),setTimeout(function(){jQuery(".yBoxOverlay").addClass("active")},200)),setTimeout(function(){"undefined"!=typeof afterYboxOpen&&afterYboxOpen(t)},200)}}function insert_yBox_html(e){if(jQuery(".yBoxFrame").removeClass("yBoxIframeWrap yBoxImgWrap"),e.hasSelf){if(e.self.hasClass("yBox_iframe")){if(jQuery(".yBoxFrame").addClass("yBoxIframeWrap"),e.url.toLowerCase().indexOf("youtube")>-1||e.url.toLowerCase().indexOf("youtu.be")>-1){var t=e.url.replace(/^[^v]+v.(.{11}).*/,"$1").replace("https://youtu.be/","").replace(/.*youtube.com\/embed\//,"")
e.url="https://www.youtube.com/embed/"+t+"?wmode=transparent&rel=0&autoplay=1&hl="+yBox_lang}if(e.url.toLowerCase().indexOf("vimeo")>-1){var o=e.url.replace(/[^0-9]/g,"")
e.url="https://player.vimeo.com/video/"+o+"?autoplay=1"}var r='<iframe src="'+e.url+'" frameborder="0" wmode="Opaque" allow="autoplay" allowfullscreen class="yBoxIframe"></iframe>'
r=yBox_Group(e.self,r)}else if(e.self.hasClass("yBox_video")){jQuery(".yBoxFrame").addClass("yBoxIframeWrap")
var r='<video class="yBoxVideo" autoplay controls preload plays-inline playsinline><source src="'+e.url+'" type="video/mp4" /></video>'
r=yBox_Group(e.self,r),jQuery(".yBoxFrame .insertYboxAjaxHere").html(r)}else if(e.self.hasClass("yBox_ajax"))jQuery.get(e.url,function(e){jQuery(".insertYboxAjaxHere").addClass("isAjax").html(e)})
else if(-1==e.url.indexOf("#")){jQuery(".yBoxFrame").addClass("yBoxImgWrap"),jQuery(".insertYboxAjaxHere").append('<div style="text-align:center;position:absolute;right:0;left:0;top:0;bottom:0;"><div class="yBoxLoader"></div></div>')
var a=new Image
a.src=e.url,a.className="yBoxImg",a.onload=function(){var t=e.self.data("ybox-alt")||"",o=""
e.self.data("ybox-title")&&(o='<h3 class="ybox-img-title">'+e.self.data("ybox-title")+"</h3>")
var r='<div class="yBoxImgZoom"><img src="'+e.url+'" alt="'+t+'" class="yBoxImg" />'+o+"</div>"
r=yBox_Group(e.self,r),window.screen.width<=767&&ybox_zoom({zoom:"yBoxImgZoom"})}}else jQuery(e.url).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(".insertYboxAjaxHere.isAjax").length&&jQuery(".insertYboxAjaxHere.isAjax").removeClass("isAjax"),jQuery(e.url).appendTo(".insertYboxAjaxHere")
window.screen.width>991&&setTimeout(function(){e.self.data("focus")?jQuery(".insertYboxAjaxHere ."+e.self.data("focus")).focus():setYboxFocus()},500)}else void 0===e.code&&e.url?(jQuery(e.url).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(e.url).appendTo(".insertYboxAjaxHere")):jQuery(".insertYboxAjaxHere").html(e.code),setTimeout(function(){setYboxFocus({focus:e.focus})},500)}function setYboxFocus(e){void 0!==e&&void 0!==e.focus?jQuery(e.focus).focus():jQuery(".closeYbox").focus()}function yBox_Group(e,t){var o=e.data("ybox-group")
return o&&jQuery('.yBox[data-ybox-group="'+o+'"]').length>1&&(t='<button type="button" class="yBoxNext" title="'+strings.next+'"></button>'+t+'<button type="button" class="yBoxPrev" title="'+strings.prev+'"></button>'),jQuery(".insertYboxAjaxHere").html(t),t}function yBoxNext(e){var t,o=e.data("ybox-group"),r=!1
jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').each(function(a){r||jQuery(this).attr("data-ybox-id")==e.attr("data-ybox-id")&&(r=!0,t=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(a+1).length?jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(a+1):jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(0))}),t&&(jQuery(".yBox").data("focus",""),t.data("focus","yBoxNext"),t.trigger("click"))}function yBoxPrev(e){var t,o=e.data("ybox-group")
jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').each(function(r){if(jQuery(this).attr("data-ybox-id")==e.attr("data-ybox-id"))if(jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(r-1).length)t=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(r-1)
else{var a=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').length
t=jQuery('.yBox[data-ybox-group="'+o+'"]:not(.swiper-slide-duplicate)').eq(a-1)}}),t&&(jQuery(".yBox").data("focus",""),t.data("focus","yBoxPrev"),t.trigger("click"))}function remove_yBox_placeholder(){if(jQuery(".yBoxFramePlaceHolder").length){var e=jQuery(".insertYboxAjaxHere > *").eq(0).attr("id")
e?jQuery("#"+e).insertBefore(".yBoxFramePlaceHolder"):jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()}}jQuery("body").on("click",".yBox",function(e){e.preventDefault(),e.stopPropagation()
var t=jQuery(this)
if(jQuery(".yBox.yBoxFocus").length){if("undefined"!=typeof beforeYboxClose){if(0==beforeYboxClose(jQuery(".yBox.yBoxFocus")))return!1}jQuery(".yBox.yBoxFocus").not(t).removeClass("yBoxFocus")}t.addClass("yBoxFocus"),yBox({self:t})})
var yUrl=new URL(document.currentScript.src),yBox_lang=yUrl.searchParams.get("lang"),strings={close:"Close",next:"Next",prev:"Prev"}
"he"!=yBox_lang&&"he-IL"!=yBox_lang&&"he_IL"!=yBox_lang||(yBox_lang="he",strings={close:"סגירה",next:"הבא",prev:"הקודם"}),"ar"!=yBox_lang&&"ar-ar"!=yBox_lang||(yBox_lang="ar",strings={close:"لإغلاق",next:"التالي",prev:"السابق"})
var url=new URL(window.location.href),msg=url.searchParams.get("msg"),yBoxPrm=url.searchParams.get("ybox-url"),yBoxClassPrm=url.searchParams.get("ybox-class");(msg||yBoxPrm)&&(jQuery.isEmptyObject(yBoxPrm)||-1!=yBoxPrm.indexOf("http:")||-1!=yBoxPrm.indexOf("https:")||(yBoxPrm="#"+yBoxPrm),yBox({code:!yBoxPrm&&msg,yBoxClass:yBoxClassPrm||"ybox-content-frame",url:yBoxPrm||!1}),setTimeout(function(){var e=new URLSearchParams(window.location.search)
e.delete("msg"),e.delete("ybox-url"),e.delete("ybox-class"),e.toString()&&(e="?"+e.toString())
var t=window.location.pathname+e
window.history.pushState("","",t)},500)),jQuery("body").on("click",".yBoxNext",function(e){yBoxNext(jQuery(".yBoxFocus"))}),jQuery("body").on("click",".yBoxPrev",function(e){yBoxPrev(jQuery(".yBoxFocus"))}),jQuery(".yBox[data-ybox-group]:not(.swiper-slide-duplicate)").each(function(e){var t=jQuery(this).data("ybox-group")
jQuery(this).attr("data-ybox-id",t+"-"+e)}),jQuery("body").on("click",".yBoxOverlay",function(e){for(var t="",o=0;o<e.target.classList.length;o++)(e.target.classList[o].indexOf("yBoxOverlay")>-1||e.target.classList[o].indexOf("active")>-1)&&(t+=e.target.classList[o]+" ")
if(t.indexOf("yBoxOverlay active")>-1||"string"==typeof e.target.className&&e.target.className.indexOf("closeYbox")>-1){var r=jQuery(".insertYboxAjaxHere > *").eq(0)
if(jQuery(".yBox.yBoxFocus").length&&(r=jQuery(".yBox.yBoxFocus")),"undefined"!=typeof beforeYboxClose){if(0==beforeYboxClose(r))return!1}jQuery(".yBoxOverlay").removeClass("active"),jQuery(".yBoxFocus").focus(),setTimeout(function(){"undefined"!=typeof afterYboxClose&&afterYboxClose(r),remove_yBox_placeholder(),jQuery(".yBoxOverlay").remove()},600)}}),jQuery("body").on("focus",".closeYboxOnFocus",function(){jQuery(".closeYbox").trigger("click")}),jQuery(document).keyup(function(e){39===e.keyCode&&yBoxPrev(jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]')),37===e.keyCode&&yBoxNext(jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]')),27===e.keyCode&&jQuery(".closeYbox").trigger("click")})
