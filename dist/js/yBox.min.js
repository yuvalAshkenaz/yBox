/*! yBox - v4.0 - 29/08/2022
* By Yuval Ashkenazi
* https://github.com/yuvalAshkenaz/yBox */
jQuery("body").on("click",".yBox",function(a){a.preventDefault(),a.stopPropagation();var b=jQuery(this);jQuery(".yBox.yBoxFocus").removeClass("yBoxFocus"),b.addClass("yBoxFocus"),yBox({self:b})});var yUrl=new URL(document.currentScript.src),yLang=yUrl.searchParams.get("lang"),strings={close:"Close",next:"Next",prev:"Prev"};("he"==yLang||"he-IL"==yLang)&&(yLang="he",strings={close:"\u05E1\u05D2\u05D9\u05E8\u05D4",next:"\u05D4\u05D1\u05D0",prev:"\u05D4\u05E7\u05D5\u05D3\u05DD"});var url=new URL(window.location.href),msg=url.searchParams.get("msg");function yBox(a){"undefined"!=typeof beforeYboxOpen&&beforeYboxOpen(a.self);var b=!0;void 0===a.yBoxClass&&(a.yBoxClass=""),void 0!==a.self&&a.self||(b=!1),b&&(a.yBoxClass=a.self.data("ybox-class")||"",a.url=a.self.attr("href"));var c='<div class="yBoxOverlay'+("he"==yLang?" yBoxRTL":"")+'">					<div class="yBoxFrame '+a.yBoxClass+'">						<button type="button" class="closeYboxOnFocus"></button>						<div class="insertYboxAjaxHere" tabindex="0"></div>						<button type="button" class="closeYbox" title="'+strings.close+'"></button>						<button type="button" class="closeYboxOnFocus"></button>					</div>				</div>';jQuery(".yBoxFrame").length?jQuery(".yBoxFrame.yBoxImgWrap").length?(jQuery(".yBoxFramePlaceHolder").length&&(jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()),jQuery(".insertYboxAjaxHere").html(""),insertPopHtml(a.self,b,a.url,a.code)):jQuery(".insertYboxAjaxHere").animate({opacity:0},function(){var c=jQuery(this);setTimeout(function(){jQuery(".yBoxFramePlaceHolder").length&&(jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()),c.html(""),insertPopHtml(a.self,b,a.url,a.code),jQuery(".insertYboxAjaxHere").animate({opacity:1})},200)}):(jQuery("body").append(c),insertPopHtml(a.self,b,a.url,a.code),setTimeout(function(){jQuery(".yBoxOverlay").addClass("active")},200)),"undefined"!=typeof afterYboxOpen&&afterYboxOpen(a.self)}function insertPopHtml(b,f,a,c){if(f){if(b.hasClass("yBox_iframe"))jQuery(".yBoxFrame").addClass("yBoxIframeWrap"),(a.toLowerCase().indexOf("youtube")> -1||a.toLowerCase().indexOf("youtu.be")> -1)&&(a="https://www.youtube.com/embed/"+a.replace(/^[^v]+v.(.{11}).*/,"$1").replace("https://youtu.be/","").replace(/.*youtube.com\/embed\//,"")+"?wmode=transparent&rel=0&autoplay=1&hl="+yLang),a.toLowerCase().indexOf("vimeo")> -1&&(a="https://player.vimeo.com/video/"+a.replace(/[^0-9]/g,"")+"?autoplay=1"),jQuery(".yBoxFrame .insertYboxAjaxHere").html('<iframe src="'+a+'" frameborder="0" wmode="Opaque" allow="autoplay" allowfullscreen class="yBoxIframe"></iframe>');else if(b.hasClass("yBox_video"))jQuery(".yBoxFrame").addClass("yBoxIframeWrap"),jQuery(".yBoxFrame .insertYboxAjaxHere").html('<video class="yBoxVideo" autoplay controls preload plays-inline playsinline><source src="'+a+'" type="video/mp4" /></video>');else if(b.hasClass("yBox_ajax"))jQuery.get(a,function(a){jQuery(".insertYboxAjaxHere").addClass("isAjax").html(a)});else if(-1==a.indexOf("#")){jQuery(".yBoxFrame").addClass("yBoxImgWrap"),jQuery(".insertYboxAjaxHere").append('<div style="text-align:center;position:absolute;right:0;left:0;top:0;bottom:0;"><div class="yBoxLoader"></div></div>');var d=new Image;d.src=a,d.className="yBoxImg",d.onload=function(){var d=b.data("ybox-group"),c='<div class="yBoxImgZoom"><img src="'+a+'" alt="'+(b.data("ybox-alt")||"")+'" class="yBoxImg" /></div>';d&&jQuery('.yBox[data-ybox-group="'+d+'"]').length>1&&(c='<button type="button" class="yBoxNextImg" title="'+strings.next+'"></button>'+c+'<button type="button" class="yBoxPrevImg" title="'+strings.prev+'"></button>'),jQuery(".insertYboxAjaxHere").html(c),window.screen.width<=767&&zoom({zoom:"yBoxImgZoom"}),jQuery(".yBoxNextImg").click(function(a){yBoxNext(b)}),jQuery(".yBoxPrevImg").click(function(a){yBoxPrev(b)})}}else if(jQuery(a).after('<div class="yBoxFramePlaceHolder"></div>'),jQuery(".insertYboxAjaxHere.isAjax").length){var g='<div id="'+a.replace("#","")+'">'+jQuery(a).html()+"</div>";jQuery(".insertYboxAjaxHere").html(g).removeClass("isAjax")}else jQuery(a).appendTo(".insertYboxAjaxHere");window.screen.width>991&&setTimeout(function(){b.data("focus")?jQuery(".insertYboxAjaxHere ."+b.data("focus")).focus():jQuery(".insertYboxAjaxHere iframe, .insertYboxAjaxHere a, .insertYboxAjaxHere input, .insertYboxAjaxHere select:not(.select2), .insertYboxAjaxHere .select2-selection, .insertYboxAjaxHere button").first().focus()},500)}else{if(!c&&a){var e="";jQuery(a).attr("class")&&(e='class="'+jQuery(a).attr("class")+'"'),c='<div id="'+a.replace("#","")+'" '+e+">"+jQuery(a).html()+"</div>"}jQuery(".insertYboxAjaxHere").html(c)}}function yBoxNext(b){var a,c=b.data("ybox-group"),d=!1;jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').each(function(e){d||jQuery(this).attr("href")==b.attr("href")&&(d=!0,a=jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').eq(e+1).length?jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').eq(e+1):jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').eq(0))}),a&&(jQuery(".yBox").data("focus",""),a.data("focus","yBoxNextImg"),a.trigger("click"))}function yBoxPrev(b){var a,c=b.data("ybox-group");jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').each(function(d){if(jQuery(this).attr("href")==b.attr("href")){if(jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').eq(d-1).length)a=jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').eq(d-1);else{var e=jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').length;a=jQuery('.yBox[data-ybox-group="'+c+'"]:not(.swiper-slide-duplicate)').eq(e-1)}}}),a&&(jQuery(".yBox").data("focus",""),a.data("focus","yBoxPrevImg"),a.trigger("click"))}msg&&(yBox({code:msg,self:!1,yBoxClass:"yBoxContentFrame"}),setTimeout(function(){var a=new URLSearchParams(window.location.search);a.delete("msg"),a.toString()&&(a="?"+a.toString());var b=window.location.pathname+a;window.history.pushState("","",b)},500)),jQuery("body").on("click",".yBoxOverlay",function(a){if(a.target.className.indexOf("yBoxOverlay yBoxRTL active")> -1||a.target.className.indexOf("yBoxOverlay active")> -1||a.target.className.indexOf("closeYbox")> -1){if("undefined"!=typeof beforeYboxClose&& !1==beforeYboxClose($(".yBox.yBoxFocus")))return!1;jQuery(".yBoxOverlay").removeClass("active"),jQuery(".yBoxFocus").focus(),setTimeout(function(){jQuery(".yBoxFramePlaceHolder").length&&(jQuery(".yBoxFramePlaceHolder").before(jQuery(".insertYboxAjaxHere").html()),jQuery(".yBoxFramePlaceHolder").remove()),jQuery(".yBoxOverlay").remove(),"undefined"!=typeof afterYboxClose&&afterYboxClose($(".yBox.yBoxFocus"))},600)}}),jQuery("body").on("focus",".closeYboxOnFocus",function(){jQuery(".closeYbox").trigger("click")}),jQuery(document).keyup(function(a){39===a.keyCode&&yBoxPrev(jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]')),37===a.keyCode&&yBoxNext(jQuery('.yBox[href="'+jQuery(".yBoxImg").attr("src")+'"]')),27===a.keyCode&&jQuery(".closeYbox").trigger("click")})